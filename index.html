<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Par for the Course - Classic</title>
    <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #000;
      color: #fff;
      text-align: center;
    }

    #splash-screen, #player-setup, #game-area {
      max-width: 400px;
      margin: 20px auto;
      display: none;
    }

    #splash-screen img {
      width: 100%;
      max-width: 300px;
    }

    input[type="text"] {
      width: 80%;
      padding: 8px;
      margin-bottom: 10px;
    }

    .btn {
      padding: 10px 20px;
      background-color: #d11111;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .btn:hover {
      background-color: #a50e0e;
    }

    .player-scoreboard {
      text-align: left;
      margin: 20px 0;
    }

    .player-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 10px 0;
    }
        
// Incremental button pairs 
    .btn-small {
      padding: 5px 10px;
      font-size: 12px;
      background-color: #d11111;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin: 0 5px;
}

    .card-image {
      width: 100%;
      max-width: 400px;
      margin: 20px 0;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }

    table, th, td {
      border: 1px solid white;
    }

    th, td {
      padding: 8px;
      text-align: center;
    }

    th {
      background-color: #444;
    }

    #box-score {
      display: none;
      transition: max-height 0.3s ease-out;
    }

    #box-score.expanded {
      display: table;
    }

    .total-score {
      font-size: 24px;
      margin-bottom: 20px;
    }
    </style>
</head>
<body>
    <div id="splash-screen" style="display: block;">
        <img src="images/Splash-Screen.png" alt="Splash Screen" width="300px" height="auto">
        <button id="setup-game" class="btn">Next</button>
    </div>

    <div id="player-setup" style="display: none;">
        <h2>Enter Player Names</h2>
        <div id="player-inputs">
            <div>
                <input type="text" class="player-name-input" placeholder="Player 1">
            </div>
        </div>
        <button id="add-player" class="btn">Add Player</button>
        <button id="start-game" class="btn">Start Game</button>
    </div>

    <div id="gamecontainer" style="display: none;">
        <img id="current-card" class="card-image" src="" alt="Card Image">
        <div id="player-scores" class="player-scoreboard"></div>
        <button id="next-hole" class="btn">Next Card</button>
        <button id="toggle-box-score" class="btn">Toggle Box Score</button>
        <table id="box-score"></table>
    </div>

<script>
    // Global Variables
    let playerScores = [];
    let shuffledCards = [];
    let currentCardIndex = 0;
    const gameContainer = document.getElementById("gamecontainer");
    const boxScoreTable = document.getElementById("box-score");
    const playerScoresDiv = document.getElementById("player-scores");

    // Array of card images (card1.png to card18.png)
    const cardImages = Array.from({ length: 18 }, (_, i) => `images/card${i + 1}.png`);

    // Shuffle the card images array
    const shuffleCards = () => {
        shuffledCards = [...cardImages];
        for (let i = shuffledCards.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [shuffledCards[i], shuffledCards[j]] = [shuffledCards[j], shuffledCards[i]];
        }
    };

    // Splash Screen: Move to Player Setup
    const splashScreen = document.getElementById("splash-screen");
    const setupGameButton = document.getElementById("setup-game");
    const playerSetup = document.getElementById("player-setup");

    setupGameButton.addEventListener("click", () => {
        splashScreen.style.display = "none";
        playerSetup.style.display = "block";
    });

    // Add Player Functionality
    const addPlayerButton = document.getElementById("add-player");
    const playerInputsContainer = document.getElementById("player-inputs");

    addPlayerButton.addEventListener("click", () => {
        const playerInputField = document.createElement("div");
        playerInputField.innerHTML = `
            <input type="text" class="player-name-input">
        `;
        playerInputsContainer.appendChild(playerInputField);
    });

    // Start Game Functionality
    const startGameButton = document.getElementById("start-game");

    startGameButton.addEventListener("click", () => {
        const playerNames = Array.from(document.querySelectorAll(".player-name-input"))
            .map(input => input.value.trim())
            .filter(name => name.length > 0);

        if (playerNames.length > 0) {
            playerScores = playerNames.map(name => ({
                name,
                scores: Array(18).fill(0), // Default to 18 holes
            }));

            playerSetup.style.display = "none";
            gameContainer.style.display = "block";

            shuffleCards(); // Shuffle cards before starting the game
            updateBoxScore();
            displayPlayerScores();
            showNextCard(); // Show the first card
        } else {
            alert("Please add at least one player.");
        }
    });

    // Update Player Scores Display
    const displayPlayerScores = () => {
        playerScoresDiv.innerHTML = "";
        playerScores.forEach((player, index) => {
            const totalScore = player.scores.reduce((acc, score) => acc + score, 0);
            const playerRow = document.createElement("div");
            playerRow.classList.add("player-row");
            playerRow.innerHTML = `
                <span>${player.name}: ${totalScore}</span>
                <div>
                    <button class="btn-small" onclick="adjustScore(${index}, -1)">-1</button>
                    <button class="btn-small" onclick="adjustScore(${index}, 1)">+1</button>
                </div>
            `;
            playerScoresDiv.appendChild(playerRow);
        });
    };

    // Update Box Score Table
    const updateBoxScore = () => {
        boxScoreTable.innerHTML = "";

        // Header Row
        const headerRow = document.createElement("tr");
        headerRow.innerHTML = `<td>Player</td>` +
            playerScores[0].scores.map((_, i) => `<td>Hole ${i + 1}</td>`).join("") +
            `<td>Total</td>`;
        boxScoreTable.appendChild(headerRow);

        // Player Rows
        playerScores.forEach(player => {
            const row = document.createElement("tr");
            const totalScore = player.scores.reduce((acc, score) => acc + score, 0);
            row.innerHTML = `
                <td>${player.name}</td>
                ${player.scores.map(score => `<td>${score}</td>`).join("")}
                <td>${totalScore}</td>
            `;
            boxScoreTable.appendChild(row);
        });
    };

    // Adjust Score Function
    const adjustScore = (playerIndex, adjustment) => {
        playerScores[playerIndex].scores[currentCardIndex - 1] += adjustment;
        displayPlayerScores();
        updateBoxScore();
    };

    // Show the next card in the shuffled order
    const showNextCard = () => {
        if (currentCardIndex < shuffledCards.length) {
            const cardImage = shuffledCards[currentCardIndex];
            document.getElementById("current-card").src = cardImage;
            currentCardIndex++;
        } else {
            alert("GAME OVER");
            currentCardIndex = 0; // Reset the game
        }
    };

    // Next Card Button
    const nextCardButton = document.getElementById("next-hole");
    nextCardButton.addEventListener("click", showNextCard);

    // Toggle Box Score Visibility
    const toggleBoxScoreButton = document.getElementById("toggle-box-score");
    toggleBoxScoreButton.addEventListener("click", () => {
        boxScoreTable.classList.toggle("expanded");
    });
</script>

    <h6>v 0.7.7.1</h6>
</body>
</html>




